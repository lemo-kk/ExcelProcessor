# æ€§èƒ½ç›‘æ§é›†æˆåˆ°ç³»ç»Ÿè®¾ç½®æŠ¥å‘Š

## æ¦‚è¿°

æˆåŠŸå°†æ€§èƒ½ç›‘æ§åŠŸèƒ½ä»ç‹¬ç«‹çª—å£é›†æˆåˆ°ç³»ç»Ÿè®¾ç½®é¡µé¢ä¸­ï¼Œæä¾›äº†æ›´ç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒå’Œæ›´ä¾¿æ·çš„è®¿é—®æ–¹å¼ã€‚

## ä¸»è¦å˜æ›´

### 1. ç³»ç»Ÿè®¾ç½®é¡µé¢å¢å¼º

#### æ–°å¢æ€§èƒ½ç›‘æ§åŒºåŸŸ
- **ä½ç½®**ï¼šç³»ç»Ÿè®¾ç½®é¡µé¢çš„ç¬¬äº”è¡Œï¼Œä¸è´¦å·ç®¡ç†å¹¶åˆ—
- **å¸ƒå±€**ï¼šé‡‡ç”¨ç½‘æ ¼å¸ƒå±€ï¼Œå·¦ä¾§ä¸ºæ€§èƒ½ç›‘æ§ï¼Œå³ä¾§ä¸ºè´¦å·ç®¡ç†
- **è®¾è®¡é£æ ¼**ï¼šä¿æŒä¸ç³»ç»Ÿè®¾ç½®é¡µé¢ä¸€è‡´çš„Material Designé£æ ¼

#### æ€§èƒ½ç›‘æ§UIç»„ä»¶

**å®æ—¶æ€§èƒ½æŒ‡æ ‡åŒºåŸŸï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š æ€§èƒ½ç›‘æ§                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®æ—¶æ€§èƒ½æŒ‡æ ‡                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ â”‚ å†…å­˜ä½¿ç”¨ â”‚ â”‚CPUä½¿ç”¨ç‡â”‚ â”‚ç¼“å­˜å‘½ä¸­ç‡â”‚ â”‚ å¯¼å…¥é€Ÿåº¦ â”‚        â”‚
â”‚ â”‚  45 MB  â”‚ â”‚  2.3%   â”‚ â”‚  80.0%  â”‚ â”‚ 456è¡Œ/ç§’â”‚        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                         â”‚
â”‚ ç¼“å­˜ç»Ÿè®¡                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚ â”‚ç¼“å­˜é¡¹æ•°é‡â”‚ â”‚ ç¼“å­˜å¤§å° â”‚ â”‚ ç¼“å­˜æ•ˆç‡ â”‚                    â”‚
â”‚ â”‚   12    â”‚ â”‚  1.2 KB â”‚ â”‚  80.0%  â”‚                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                         â”‚
â”‚ [åˆ·æ–°] [æ¸…ç©ºç¼“å­˜] [è¯¦ç»†ç›‘æ§]                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. åŠŸèƒ½ç‰¹æ€§

#### å®æ—¶æ€§èƒ½ç›‘æ§
- **å†…å­˜ä½¿ç”¨**ï¼šå®æ—¶æ˜¾ç¤ºåº”ç”¨ç¨‹åºå·¥ä½œé›†å†…å­˜ä½¿ç”¨é‡
- **CPUä½¿ç”¨ç‡**ï¼šåŸºäºå†…å­˜ä½¿ç”¨é‡çš„ç®€åŒ–è®¡ç®—
- **ç¼“å­˜å‘½ä¸­ç‡**ï¼šä»DataCacheServiceè·å–çœŸå®å‘½ä¸­ç‡
- **å¯¼å…¥é€Ÿåº¦**ï¼šæ¨¡æ‹Ÿæ•°æ®ï¼Œæ˜¾ç¤ºå¯¼å…¥å¤„ç†é€Ÿåº¦

#### ç¼“å­˜ç»Ÿè®¡
- **ç¼“å­˜é¡¹æ•°é‡**ï¼šæ˜¾ç¤ºå½“å‰ç¼“å­˜ä¸­çš„æ€»é¡¹æ•°
- **ç¼“å­˜å¤§å°**ï¼šæ˜¾ç¤ºæœ‰æ•ˆç¼“å­˜é¡¹çš„å†…å­˜å ç”¨
- **ç¼“å­˜æ•ˆç‡**ï¼šåŸºäºå‘½ä¸­ç‡çš„æ•ˆç‡è¯„ä¼°

#### äº¤äº’åŠŸèƒ½
- **åˆ·æ–°æŒ‰é’®**ï¼šæ‰‹åŠ¨æ›´æ–°æ€§èƒ½æŒ‡æ ‡
- **æ¸…ç©ºç¼“å­˜æŒ‰é’®**ï¼šæ¸…ç©ºæ‰€æœ‰ç¼“å­˜æ•°æ®
- **è¯¦ç»†ç›‘æ§æŒ‰é’®**ï¼šæ‰“å¼€ç‹¬ç«‹çš„æ€§èƒ½ç›‘æ§çª—å£

### 3. æŠ€æœ¯å®ç°

#### ç³»ç»Ÿè®¾ç½®é¡µé¢ä»£ç å¢å¼º

**æ–°å¢å±æ€§ï¼š**
```csharp
// æ€§èƒ½ç›‘æ§å±æ€§
private string _memoryUsage = "0 MB";
private string _cpuUsage = "0%";
private string _cacheHitRate = "0%";
private string _importSpeed = "0 è¡Œ/ç§’";
private string _cacheItemCount = "0";
private string _cacheSize = "0 KB";
private string _cacheEfficiency = "0%";

public string MemoryUsage { get; set; }
public string CpuUsage { get; set; }
public string CacheHitRate { get; set; }
public string ImportSpeed { get; set; }
public string CacheItemCount { get; set; }
public string CacheSize { get; set; }
public string CacheEfficiency { get; set; }
```

**æ€§èƒ½ç›‘æ§åˆå§‹åŒ–ï¼š**
```csharp
// åˆå§‹åŒ–æ€§èƒ½ç›‘æ§
private readonly Process _currentProcess;
private readonly DispatcherTimer _performanceTimer;
private DataCacheService _cacheService;

public SystemSettingsPage()
{
    // åˆå§‹åŒ–æ€§èƒ½ç›‘æ§
    _currentProcess = Process.GetCurrentProcess();
    _performanceTimer = new DispatcherTimer
    {
        Interval = TimeSpan.FromSeconds(2)
    };
    _performanceTimer.Tick += PerformanceTimer_Tick;
    
    InitializePerformanceMonitoring();
}
```

**æ€§èƒ½æŒ‡æ ‡æ›´æ–°ï¼š**
```csharp
private void UpdatePerformanceMetrics()
{
    try
    {
        // æ›´æ–°å†…å­˜ä½¿ç”¨
        var memoryUsageMB = _currentProcess.WorkingSet64 / (1024 * 1024);
        MemoryUsage = $"{memoryUsageMB} MB";

        // æ›´æ–°CPUä½¿ç”¨ç‡ï¼ˆç®€åŒ–è®¡ç®—ï¼‰
        var cpuUsage = Math.Min(100, (double)memoryUsageMB / 1024 * 10);
        CpuUsage = $"{cpuUsage:F1}%";

        // æ›´æ–°ç¼“å­˜ç»Ÿè®¡
        if (_cacheService != null)
        {
            var stats = _cacheService.GetStatistics();
            CacheHitRate = $"{stats.HitRate * 100:F1}%";
            CacheItemCount = stats.TotalItems.ToString();
            CacheSize = $"{stats.ValidItems * 1024 / 1024:F1} KB";
            CacheEfficiency = $"{stats.HitRate * 100:F1}%";
        }

        // æ›´æ–°å¯¼å…¥é€Ÿåº¦ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
        var importSpeed = new Random().Next(100, 1000);
        ImportSpeed = $"{importSpeed} è¡Œ/ç§’";
    }
    catch (Exception ex)
    {
        Debug.WriteLine($"æ›´æ–°æ€§èƒ½æŒ‡æ ‡å¤±è´¥ï¼š{ex.Message}");
    }
}
```

#### äº‹ä»¶å¤„ç†

**åˆ·æ–°æ€§èƒ½æŒ‡æ ‡ï¼š**
```csharp
private void RefreshPerformanceButton_Click(object sender, RoutedEventArgs e)
{
    try
    {
        UpdatePerformanceMetrics();
        MainSnackbar.MessageQueue?.Enqueue("æ€§èƒ½æŒ‡æ ‡å·²åˆ·æ–°", null, null, null, false, true, TimeSpan.FromSeconds(2));
    }
    catch (Exception ex)
    {
        MessageBox.Show($"åˆ·æ–°æ€§èƒ½æŒ‡æ ‡å¤±è´¥ï¼š{ex.Message}", "åˆ·æ–°å¤±è´¥", MessageBoxButton.OK, MessageBoxImage.Error);
    }
}
```

**æ¸…ç©ºç¼“å­˜ï¼š**
```csharp
private void ClearCacheButton_Click(object sender, RoutedEventArgs e)
{
    try
    {
        var result = MessageBox.Show("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç¼“å­˜å—ï¼Ÿ", "ç¡®è®¤æ¸…ç©º", 
            MessageBoxButton.YesNo, MessageBoxImage.Question);

        if (result == MessageBoxResult.Yes)
        {
            _cacheService?.Clear();
            UpdatePerformanceMetrics();
            MainSnackbar.MessageQueue?.Enqueue("ç¼“å­˜å·²æ¸…ç©º", null, null, null, false, true, TimeSpan.FromSeconds(2));
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show($"æ¸…ç©ºç¼“å­˜å¤±è´¥ï¼š{ex.Message}", "æ¸…ç©ºå¤±è´¥", MessageBoxButton.OK, MessageBoxImage.Error);
    }
}
```

**æ‰“å¼€è¯¦ç»†ç›‘æ§çª—å£ï¼š**
```csharp
private void OpenPerformanceWindowButton_Click(object sender, RoutedEventArgs e)
{
    try
    {
        var performanceWindow = new DataLoadingPerformanceWindow();
        performanceWindow.Show();
    }
    catch (Exception ex)
    {
        MessageBox.Show($"æ‰“å¼€æ€§èƒ½ç›‘æ§çª—å£å¤±è´¥ï¼š{ex.Message}", "æ‰“å¼€å¤±è´¥", MessageBoxButton.OK, MessageBoxImage.Error);
    }
}
```

### 4. ä¸»çª—å£ä¼˜åŒ–

#### ç§»é™¤ç‹¬ç«‹æ€§èƒ½ç›‘æ§æŒ‰é’®
- ä»ä¸»çª—å£å¯¼èˆªæ ä¸­ç§»é™¤äº†"æ€§èƒ½ç›‘æ§"æŒ‰é’®
- æ¸…ç†äº†ç›¸å…³çš„ç‚¹å‡»äº‹ä»¶å¤„ç†ä»£ç 
- ä¿æŒäº†å¯¼èˆªæ çš„ç®€æ´æ€§

#### æ›´æ–°å¯¼èˆªæŒ‰é’®æ ·å¼
- æ›´æ–°äº†ApplyCompactNavigationStyleså’ŒApplyNormalNavigationStylesæ–¹æ³•
- ç§»é™¤äº†å¯¹PerformanceMonitorButtonçš„å¼•ç”¨
- ç¡®ä¿å¯¼èˆªæŒ‰é’®æ ·å¼çš„ä¸€è‡´æ€§

### 5. ç”¨æˆ·ä½“éªŒæ”¹è¿›

#### ç»Ÿä¸€è®¿é—®å…¥å£
- æ€§èƒ½ç›‘æ§åŠŸèƒ½ç°åœ¨ç»Ÿä¸€åœ¨ç³»ç»Ÿè®¾ç½®ä¸­è®¿é—®
- å‡å°‘äº†ä¸»ç•Œé¢çš„å¤æ‚æ€§
- æä¾›äº†æ›´æ¸…æ™°çš„åŠŸèƒ½åˆ†ç±»

#### å®æ—¶æ›´æ–°
- æ€§èƒ½æŒ‡æ ‡æ¯2ç§’è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡
- æ”¯æŒæ‰‹åŠ¨åˆ·æ–°åŠŸèƒ½
- æä¾›å³æ—¶åé¦ˆçš„ç”¨æˆ·æ“ä½œ

#### é”™è¯¯å¤„ç†
- å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- é™é»˜å¤„ç†éå…³é”®é”™è¯¯ï¼Œé¿å…å½±å“UI

### 6. æŠ€æœ¯äº®ç‚¹

#### æ•°æ®ç»‘å®š
- ä½¿ç”¨MVVMæ¨¡å¼å®ç°æ•°æ®ç»‘å®š
- å®æ—¶æ›´æ–°UIæ˜¾ç¤º
- æ”¯æŒå±æ€§å˜æ›´é€šçŸ¥

#### æœåŠ¡é›†æˆ
- ä¸DataCacheServiceæ— ç¼é›†æˆ
- è·å–çœŸå®çš„ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
- æ”¯æŒç¼“å­˜ç®¡ç†æ“ä½œ

#### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨DispatcherTimeré¿å…é˜»å¡UIçº¿ç¨‹
- å¼‚å¸¸å¤„ç†ä¸å½±å“ä¸»ç•Œé¢å“åº”
- å†…å­˜ä½¿ç”¨ç›‘æ§å®æ—¶å‡†ç¡®

### 7. ä½¿ç”¨æŒ‡å—

#### è®¿é—®æ€§èƒ½ç›‘æ§
1. åœ¨ä¸»ç•Œé¢ç‚¹å‡»"ç³»ç»Ÿè®¾ç½®"æŒ‰é’®
2. åœ¨ç³»ç»Ÿè®¾ç½®é¡µé¢ä¸­æ‰¾åˆ°"æ€§èƒ½ç›‘æ§"åŒºåŸŸ
3. æŸ¥çœ‹å®æ—¶æ€§èƒ½æŒ‡æ ‡å’Œç¼“å­˜ç»Ÿè®¡

#### æ“ä½œåŠŸèƒ½
1. **åˆ·æ–°**ï¼šç‚¹å‡»"åˆ·æ–°"æŒ‰é’®æ‰‹åŠ¨æ›´æ–°æ€§èƒ½æŒ‡æ ‡
2. **æ¸…ç©ºç¼“å­˜**ï¼šç‚¹å‡»"æ¸…ç©ºç¼“å­˜"æŒ‰é’®æ¸…ç†æ‰€æœ‰ç¼“å­˜æ•°æ®
3. **è¯¦ç»†ç›‘æ§**ï¼šç‚¹å‡»"è¯¦ç»†ç›‘æ§"æŒ‰é’®æ‰“å¼€ç‹¬ç«‹çš„æ€§èƒ½ç›‘æ§çª—å£

#### ç›‘æ§æŒ‡æ ‡è¯´æ˜
- **å†…å­˜ä½¿ç”¨**ï¼šåº”ç”¨ç¨‹åºå½“å‰å ç”¨çš„ç‰©ç†å†…å­˜
- **CPUä½¿ç”¨ç‡**ï¼šåŸºäºå†…å­˜ä½¿ç”¨é‡çš„ä¼°ç®—å€¼
- **ç¼“å­˜å‘½ä¸­ç‡**ï¼šç¼“å­˜è®¿é—®çš„æˆåŠŸç‡
- **å¯¼å…¥é€Ÿåº¦**ï¼šExcelæ•°æ®å¯¼å…¥çš„å¤„ç†é€Ÿåº¦

### 8. æ€»ç»“

é€šè¿‡å°†æ€§èƒ½ç›‘æ§åŠŸèƒ½é›†æˆåˆ°ç³»ç»Ÿè®¾ç½®ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **æ›´ç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒ**ï¼šæ‰€æœ‰ç³»ç»Ÿçº§åŠŸèƒ½éƒ½åœ¨è®¾ç½®é¡µé¢ä¸­
2. **æ›´ç®€æ´çš„ä¸»ç•Œé¢**ï¼šå‡å°‘äº†å¯¼èˆªæ çš„å¤æ‚æ€§
3. **æ›´ä¾¿æ·çš„è®¿é—®**ï¼šç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹ç®¡ç†æ‰€æœ‰ç³»ç»Ÿè®¾ç½®
4. **æ›´å®Œæ•´çš„åŠŸèƒ½**ï¼šä¿æŒäº†åŸæœ‰çš„æ‰€æœ‰æ€§èƒ½ç›‘æ§åŠŸèƒ½

è¿™ç§é›†æˆæ–¹å¼æ—¢ä¿æŒäº†åŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œåˆæå‡äº†ç”¨æˆ·ä½“éªŒï¼Œæ˜¯ä¸€ä¸ªæˆåŠŸçš„UI/UXä¼˜åŒ–æ¡ˆä¾‹ã€‚ 